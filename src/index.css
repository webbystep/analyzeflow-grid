@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes edge-flow {
  to {
    stroke-dashoffset: -15;
  }
}

@keyframes dash {
  to {
    stroke-dashoffset: -10;
  }
}

.animate-dash {
  animation: dash 0.5s linear infinite;
}

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Light Mode - Liam ERD Light */
    --background: 245 246 247;
    --foreground: 17 24 39;
    
    /* Surfaces - Liam ERD Light */
    --color-bg-canvas: 245 246 247;
    --color-bg-panel: 255 255 255;
    --color-bg-card: 255 255 255;
    --color-bg-elevated: 255 255 255;
    --color-bg-sidebar: 255 255 255;
    --color-bg-bottom-bar: 255 255 255;
    --color-bg-node-header: 255 255 255;
    --color-bg-node-body: 255 255 255;
    
    /* Borders */
    --color-border-default: 0 0 0 / 0.12;
    --color-border-active: 29 237 131;
    --color-border-muted: 0 0 0 / 0.08;
    --color-border: 0 0 0 / 0.12;
    
    /* Text */
    --color-text-primary: 17 24 39;
    --color-text-secondary: 107 114 128;
    --color-text-dimmed: 156 163 175;
    --color-text-invert: 255 255 255;

    --card: 255 255 255;
    --card-foreground: 17 24 39;

    --popover: 255 255 255;
    --popover-foreground: 17 24 39;

    --primary: 29 237 131;
    --primary-foreground: 14 21 34;

    --secondary: 0 0 0 / 0.12;
    --secondary-foreground: 17 24 39;

    --muted: 0 0 0 / 0.08;
    --muted-foreground: 107 114 128;

    --accent: 29 237 131;
    --accent-foreground: 14 21 34;
    
    /* Brand accent - Single vibrant green */
    --color-accent-green: 29 237 131;
    --color-accent-green-rgb: 29, 237, 131;

    --destructive: 0 72 51;
    --destructive-foreground: 255 255 255;

    --success: 29 237 131;
    --success-foreground: 14 21 34;

    --warning: 38 92 50;
    --warning-foreground: 255 255 255;

    --border: 0 0 0 / 0.12;
    --input: 0 0 0 / 0.12;
    --ring: 29 237 131;

    --radius: 0.5rem;

    --chart-1: 29 237 131;
    --chart-2: 107 114 128;
    --chart-3: 142 71 45;
    --chart-4: 38 92 50;
    --chart-5: 198 93 60;
    
    /* Chart colors */
    --color-chart-line: 29 237 131;
    --color-chart-fill: 29 237 131 / 0.2;
    --color-chart-accent: 29 237 131;

    /* Node colors - Unified minimalist style */
    --color-node-bg: 255 255 255;
    --color-node-border: 0 0 0 / 0.12;
    --color-line: 0 0 0 / 0.4;
    --shadow-card: 0 0 0 / 0;
    
    /* Shadow/Glow */
    --shadow-glow: 0 0 10px rgba(var(--color-accent-green-rgb), 0.2);
    --shadow-glow-strong: 0 0 16px rgba(var(--color-accent-green-rgb), 0.28);
  }

  /* React Flow Edge Hover Effects */
  .react-flow__edge-path {
    transition: stroke-width 0.2s ease, stroke 0.2s ease;
  }

  .react-flow__edge-path:hover {
    stroke-width: 3 !important;
    stroke: hsl(var(--primary)) !important;
  }

  .react-flow__edge.selected .react-flow__edge-path {
    stroke-width: 3 !important;
    stroke: hsl(var(--primary)) !important;
  }


  .dark {
    /* Dark Mode - Liam ERD "Neon Cockpit" */
    --background: 20 20 20;
    --foreground: 229 231 235;
    
    /* Surfaces - Liam ERD Dark */
    --color-bg-canvas: 20 20 20;
    --color-bg-panel: 34 37 38;
    --color-bg-card: 34 37 38;
    --color-bg-elevated: 34 37 38;
    --color-bg-sidebar: 34 37 38;
    --color-bg-bottom-bar: 34 37 38;
    --color-bg-node-header: 34 37 38;
    --color-bg-node-body: 34 37 38;
    
    /* Borders - Liam ERD Dark */
    --color-border-default: 56 58 59;
    --color-border-active: 29 237 131;
    --color-border-muted: 255 255 255 / 0.05;
    --color-border: 56 58 59;
    
    /* Text */
    --color-text-primary: 229 231 235;
    --color-text-secondary: 156 163 175;
    --color-text-dimmed: 107 114 128;
    --color-text-invert: 14 21 34;

    --card: 34 37 38;
    --card-foreground: 229 231 235;

    --popover: 34 37 38;
    --popover-foreground: 229 231 235;

    --primary: 29 237 131;
    --primary-foreground: 14 21 34;

    --secondary: 34 37 38;
    --secondary-foreground: 229 231 235;

    --muted: 34 37 38;
    --muted-foreground: 156 163 175;

    --accent: 29 237 131;
    --accent-foreground: 14 21 34;
    
    /* Brand accent - Vibrant neon green */
    --color-accent-green: 29 237 131;
    --color-accent-green-rgb: 29, 237, 131;

    --destructive: 0 72 51;
    --destructive-foreground: 229 231 235;

    --success: 29 237 131;
    --success-foreground: 14 21 34;

    --warning: 38 92 50;
    --warning-foreground: 255 255 255;

    --border: 56 58 59;
    --input: 56 58 59;
    --ring: 29 237 131;

    --chart-1: 29 237 131;
    --chart-2: 156 163 175;
    --chart-3: 142 71 45;
    --chart-4: 38 92 50;
    --chart-5: 198 93 60;
    
    /* Chart colors */
    --color-chart-line: 29 237 131;
    --color-chart-fill: 29 237 131 / 0.25;
    --color-chart-accent: 29 237 131;

    /* Node colors - Unified dark style */
    --color-node-bg: 34 37 38;
    --color-node-border: 56 58 59;
    --color-line: 34 37 38;
    --shadow-card: 0 0 0 / 0;
    
    /* Shadow/Glow */
    --shadow-glow: 0 0 15px rgba(var(--color-accent-green-rgb), 0.25);
    --shadow-glow-strong: 0 0 25px rgba(var(--color-accent-green-rgb), 0.4);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Smooth transitions for theme switching */
  * {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-duration: 200ms;
    transition-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  
  /* Liam ERD utilities */
  .brand-gradient {
    background: hsl(var(--color-accent-green));
  }
  
  .brand-gradient-text {
    background: hsl(var(--color-accent-green));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Tech glow effect */
  .tech-glow {
    box-shadow: var(--shadow-glow);
  }
  
  .tech-glow-strong {
    box-shadow: var(--shadow-glow-strong);
  }
  
  /* Canvas grid pattern */
  .canvas-grid {
    background-color: hsl(var(--color-bg-canvas));
    background-image: radial-gradient(rgba(255,255,255,0.05) 1px, transparent 1px);
    background-size: 24px 24px;
  }
  
  .dark .canvas-grid {
    background-image: radial-gradient(rgba(255,255,255,0.05) 1px, transparent 1px);
  }
  
  :root:not(.dark) .canvas-grid {
    background-image: radial-gradient(rgba(0,0,0,0.05) 1px, transparent 1px);
  }
}
